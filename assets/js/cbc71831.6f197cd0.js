"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[177],{8144:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>a,frontMatter:()=>d,metadata:()=>l,toc:()=>o});const l=JSON.parse('{"id":"interview-questions/basics-node","title":"node.js\u76f8\u5173","description":"1 Node \u662f\u4ec0\u4e48","source":"@site/docs/interview-questions/basics-node.md","sourceDirName":"interview-questions","slug":"/interview-questions/basics-node","permalink":"/docs/interview-questions/basics-node","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"node.js\u76f8\u5173"},"sidebar":"tutorialSidebar","previous":{"title":"\u5c0f\u7a0b\u5e8f\u57fa\u7840\u76f8\u5173","permalink":"/docs/interview-questions/basics-mini-programs"},"next":{"title":"\u5de5\u4f5c\u65e5\u5e38\u8bb0\u5f55","permalink":"/docs/category/\u5de5\u4f5c\u65e5\u5e38\u8bb0\u5f55"}}');var i=s(7259),r=s(9087);const d={sidebar_position:5,title:"node.js\u76f8\u5173"},c=void 0,t={},o=[{value:"1 Node \u662f\u4ec0\u4e48",id:"1-node-\u662f\u4ec0\u4e48",level:2},{value:"Node \u4f18\u7f3a\u70b9",id:"node-\u4f18\u7f3a\u70b9",level:2},{value:"Node \u7684\u5e94\u7528\u573a\u666f",id:"node-\u7684\u5e94\u7528\u573a\u666f",level:2},{value:"Node \u7684 fs \u6a21\u5757",id:"node-\u7684-fs-\u6a21\u5757",level:2},{value:"Node \u7684 fs \u6587\u4ef6\u57fa\u7840\u77e5\u8bc6",id:"node-\u7684-fs-\u6587\u4ef6\u57fa\u7840\u77e5\u8bc6",level:2},{value:"Node \u7684 fs \u6587\u4ef6\u65b9\u5f0f \u2014 \u5199\u5165",id:"node-\u7684-fs-\u6587\u4ef6\u65b9\u5f0f--\u5199\u5165",level:2},{value:"Node \u7684 fs \u6587\u4ef6\u65b9\u6cd5 \u2014 \u8ffd\u52a0\u5199\u5165",id:"node-\u7684-fs-\u6587\u4ef6\u65b9\u6cd5--\u8ffd\u52a0\u5199\u5165",level:2},{value:"Node \u7684 fs \u6587\u4ef6\u65b9\u6cd5 \u2014 \u6587\u4ef6\u62f7\u8d1d",id:"node-\u7684-fs-\u6587\u4ef6\u65b9\u6cd5--\u6587\u4ef6\u62f7\u8d1d",level:2},{value:"Node \u7684 buffer \u6587\u4ef6\u65b9\u6cd5",id:"node-\u7684-buffer-\u6587\u4ef6\u65b9\u6cd5",level:2},{value:"JWT \u9274\u6743\u673a\u5236\u662f\u4ec0\u4e48\uff1f",id:"jwt-\u9274\u6743\u673a\u5236\u662f\u4ec0\u4e48",level:2},{value:"JWT \u9274\u6743\u673a\u5236\u5982\u4f55\u5b9e\u73b0\uff1f",id:"jwt-\u9274\u6743\u673a\u5236\u5982\u4f55\u5b9e\u73b0",level:2},{value:"JWT \u9274\u6743\u673a\u5236 \u2014 \u5982\u4f55\u9a8c\u8bc1 token",id:"jwt-\u9274\u6743\u673a\u5236--\u5982\u4f55\u9a8c\u8bc1-token",level:2},{value:"Node \u4e2d Stream \u7684\u57fa\u672c\u4f7f\u7528",id:"node-\u4e2d-stream-\u7684\u57fa\u672c\u4f7f\u7528",level:2},{value:"Node \u4e2d Stream \u7684\u79cd\u7c7b",id:"node-\u4e2d-stream-\u7684\u79cd\u7c7b",level:2},{value:"Node \u4e2d Stream \u7684\u4f7f\u7528\u573a\u666f",id:"node-\u4e2d-stream-\u7684\u4f7f\u7528\u573a\u666f",level:2},{value:"Node \u7684 process",id:"node-\u7684-process",level:2},{value:"Node \u4e2d process \u7684\u57fa\u672c\u4f7f\u7528",id:"node-\u4e2d-process-\u7684\u57fa\u672c\u4f7f\u7528",level:2},{value:"Node \u7684 eventEmitter",id:"node-\u7684-eventemitter",level:2},{value:"Node \u4e2d eventEmitter \u7684\u57fa\u672c\u4f7f\u7528",id:"node-\u4e2d-eventemitter-\u7684\u57fa\u672c\u4f7f\u7528",level:2},{value:"Node \u4e2d eventEmitter \u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f",id:"node-\u4e2d-eventemitter-\u662f\u5982\u4f55\u5b9e\u73b0\u7684",level:2},{value:"Node \u7684\u4e2d\u95f4\u4ef6",id:"node-\u7684\u4e2d\u95f4\u4ef6",level:2},{value:"Node \u7684\u4e8b\u4ef6\u5faa\u73af\u673a\u5236\u662f\u4ec0\u4e48\uff1f",id:"node-\u7684\u4e8b\u4ef6\u5faa\u73af\u673a\u5236\u662f\u4ec0\u4e48",level:2},{value:"Node \u7684\u4e8b\u4ef6\u5faa\u73af\u6d41\u7a0b",id:"node-\u7684\u4e8b\u4ef6\u5faa\u73af\u6d41\u7a0b",level:2},{value:"Node \u7684\u4e8b\u4ef6\u5faa\u73af\u6d41\u7a0b\u5728\u9762\u8bd5\u4e2d\u5982\u4f55\u56de\u7b54\uff1f",id:"node-\u7684\u4e8b\u4ef6\u5faa\u73af\u6d41\u7a0b\u5728\u9762\u8bd5\u4e2d\u5982\u4f55\u56de\u7b54",level:2},{value:"Node \u7684\u6027\u80fd\u662f\u4ec0\u4e48\uff1f",id:"node-\u7684\u6027\u80fd\u662f\u4ec0\u4e48",level:2},{value:"Node \u7684\u76d1\u63a7",id:"node-\u7684\u76d1\u63a7",level:2},{value:"Node \u7684\u6027\u80fd\u4f18\u5316",id:"node-\u7684\u6027\u80fd\u4f18\u5316",level:2}];function h(e){const n={code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"1-node-\u662f\u4ec0\u4e48",children:"1 Node \u662f\u4ec0\u4e48"}),"\n",(0,i.jsx)(n.p,{children:"Node.js \u662f\u4e00\u4e2a\u57fa\u4e8e Chrome V8 \u5f15\u64ce\u7684 JavaScript \u8fd0\u884c\u65f6\uff0c\u7528\u4e8e\u5728\u670d\u52a1\u7aef\u6267\u884c JavaScript\u3002\u5b83\u91c7\u7528\u4e8b\u4ef6\u9a71\u52a8\u3001\u975e\u963b\u585e I/O \u6a21\u578b\uff0c\u975e\u5e38\u9002\u5408\u9ad8\u5e76\u53d1\u573a\u666f\u3002\n\u7279\u70b9\n\u5355\u7ebf\u7a0b + \u5f02\u6b65\u975e\u963b\u585e\n\u4e8b\u4ef6\u9a71\u52a8\n\u53ef\u7528\u4e8e\u6784\u5efa\u7f51\u7edc\u5e94\u7528\u3001\u5de5\u5177\u811a\u672c\u7b49"}),"\n",(0,i.jsx)(n.h2,{id:"node-\u4f18\u7f3a\u70b9",children:"Node \u4f18\u7f3a\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4f18\u70b9","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u9ad8\u6027\u80fd\uff1a\u57fa\u4e8e V8 \u5f15\u64ce"}),"\n",(0,i.jsx)(n.li,{children:"\u5f02\u6b65\u975e\u963b\u585e I/O\uff0c\u9002\u5408\u9ad8\u5e76\u53d1"}),"\n",(0,i.jsx)(n.li,{children:"JavaScript \u5168\u6808\u7edf\u4e00"}),"\n",(0,i.jsx)(n.li,{children:"\u4e30\u5bcc\u7684 npm \u751f\u6001"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u7f3a\u70b9","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5355\u7ebf\u7a0b CPU \u5bc6\u96c6\u578b\u4efb\u52a1\u6027\u80fd\u5dee"}),"\n",(0,i.jsx)(n.li,{children:"\u5f02\u6b65\u7f16\u7a0b\u590d\u6742"}),"\n",(0,i.jsx)(n.li,{children:"\u4e0d\u9002\u5408\u8ba1\u7b97\u5bc6\u96c6\u578b\u573a\u666f"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684\u5e94\u7528\u573a\u666f",children:"Node \u7684\u5e94\u7528\u573a\u666f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Web \u670d\u52a1\u5668\uff08Express\u3001Koa\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u5b9e\u65f6\u5e94\u7528\uff08\u804a\u5929\u3001\u6e38\u620f\uff09"}),"\n",(0,i.jsx)(n.li,{children:"API \u7f51\u5173"}),"\n",(0,i.jsx)(n.li,{children:"\u6d41\u5904\u7406\uff08\u6587\u4ef6\u4e0a\u4f20\u3001\u97f3\u89c6\u9891\u5904\u7406\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u811a\u672c\u5de5\u5177\uff08\u81ea\u52a8\u5316\u3001\u722c\u866b\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684-fs-\u6a21\u5757",children:"Node \u7684 fs \u6a21\u5757"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"fs"})," \u662f Node \u5185\u7f6e\u6a21\u5757\uff0c\u7528\u4e8e\u6587\u4ef6\u7cfb\u7edf\u64cd\u4f5c\uff0c\u5305\u62ec\u8bfb\u3001\u5199\u3001\u5220\u9664\u3001\u76d1\u63a7\u6587\u4ef6\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684-fs-\u6587\u4ef6\u57fa\u7840\u77e5\u8bc6",children:"Node \u7684 fs \u6587\u4ef6\u57fa\u7840\u77e5\u8bc6"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6587\u4ef6\u8def\u5f84\uff1a\u76f8\u5bf9\u8def\u5f84\u3001\u7edd\u5bf9\u8def\u5f84"}),"\n",(0,i.jsx)(n.li,{children:"\u6587\u4ef6\u7f16\u7801\uff1autf8\u3001binary"}),"\n",(0,i.jsxs)(n.li,{children:["\u540c\u6b65/\u5f02\u6b65\u65b9\u6cd5\u533a\u522b\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5f02\u6b65\uff1a\u4e0d\u963b\u585e\u4e3b\u7ebf\u7a0b"}),"\n",(0,i.jsx)(n.li,{children:"\u540c\u6b65\uff1a\u963b\u585e\u4e3b\u7ebf\u7a0b\n\u4ee3\u7801 demo"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\nconst path = require('path');\n\nconst filePath = path.join(__dirname, 'file.txt');\n\n// \u540c\u6b65\u8bfb\u53d6\nconst data = fs.readFileSync(filePath, 'utf8');\nconsole.log(data);\n\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684-fs-\u6587\u4ef6\u65b9\u5f0f--\u5199\u5165",children:"Node \u7684 fs \u6587\u4ef6\u65b9\u5f0f \u2014 \u5199\u5165"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"fs.writeFile\uff1a\u8986\u76d6\u5199\u5165"}),"\n",(0,i.jsx)(n.li,{children:"\u5f02\u6b65\u3001\u540c\u6b65\u5747\u53ef"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\n\nfs.writeFile('test.txt', 'Hello Node.js', 'utf8', (err) => {\n  if (err) throw err;\n  console.log('\u6587\u4ef6\u5199\u5165\u6210\u529f');\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684-fs-\u6587\u4ef6\u65b9\u6cd5--\u8ffd\u52a0\u5199\u5165",children:"Node \u7684 fs \u6587\u4ef6\u65b9\u6cd5 \u2014 \u8ffd\u52a0\u5199\u5165"}),"\n",(0,i.jsx)(n.p,{children:"fs.appendFile\uff1a\u5728\u6587\u4ef6\u672b\u5c3e\u8ffd\u52a0\u5185\u5bb9"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\n\nfs.appendFile('test.txt', '\\n\u8ffd\u52a0\u5185\u5bb9', (err) => {\n  if (err) throw err;\n  console.log('\u8ffd\u52a0\u6210\u529f');\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684-fs-\u6587\u4ef6\u65b9\u6cd5--\u6587\u4ef6\u62f7\u8d1d",children:"Node \u7684 fs \u6587\u4ef6\u65b9\u6cd5 \u2014 \u6587\u4ef6\u62f7\u8d1d"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"fs.copyFile \u7528\u4e8e\u62f7\u8d1d\u6587\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u6307\u5b9a\u8986\u76d6\u6a21\u5f0f"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\n\nfs.copyFile('test.txt', 'test_copy.txt', (err) => {\n  if (err) throw err;\n  console.log('\u6587\u4ef6\u590d\u5236\u6210\u529f');\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684-buffer-\u6587\u4ef6\u65b9\u6cd5",children:"Node \u7684 buffer \u6587\u4ef6\u65b9\u6cd5"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Buffer \u662f Node \u7528\u4e8e\u5904\u7406\u4e8c\u8fdb\u5236\u6570\u636e\u7684\u5168\u5c40\u5bf9\u8c61"}),"\n",(0,i.jsx)(n.li,{children:"\u6587\u4ef6\u8bfb\u53d6\u65f6\u53ef\u4ee5\u76f4\u63a5\u83b7\u53d6 buffer"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\n\nfs.readFile('test.txt', (err, data) => {\n  if (err) throw err;\n  console.log('Buffer:', data); // <Buffer 48 65 6c 6c 6f ...>\n  console.log('String:', data.toString());\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u521b\u5efa buffer\uff1aBuffer.alloc(size)\u3001Buffer.from(string)"}),"\n",(0,i.jsxs)(n.li,{children:["\u5e38\u7528\u65b9\u6cd5\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"toString()"}),"\n",(0,i.jsx)(n.li,{children:"slice()"}),"\n",(0,i.jsx)(n.li,{children:"length"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const buf1 = Buffer.alloc(10); // 10\u5b57\u8282\u7a7abuffer\nconst buf2 = Buffer.from('Hello Node'); // \u4ece\u5b57\u7b26\u4e32\u521b\u5efa\n\nconsole.log(buf2.toString()); // Hello Node\nconsole.log(buf2.length);     // 10\n"})}),"\n",(0,i.jsx)(n.h2,{id:"jwt-\u9274\u6743\u673a\u5236\u662f\u4ec0\u4e48",children:"JWT \u9274\u6743\u673a\u5236\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"JWT\uff08JSON Web Token\uff09\u662f\u4e00\u79cd\u57fa\u4e8e JSON \u7684\u8eab\u4efd\u8ba4\u8bc1\u65b9\u6848"}),"\n",(0,i.jsx)(n.li,{children:"\u7ed3\u6784\uff1aheader.payload.signature"}),"\n",(0,i.jsxs)(n.li,{children:["\u7279\u70b9\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u65e0\u72b6\u6001\uff08\u670d\u52a1\u7aef\u65e0\u9700\u5b58\u50a8 session\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u8de8\u57df"}),"\n",(0,i.jsx)(n.li,{children:"\u81ea\u5305\u542b\uff08payload \u53ef\u5b58\u50a8\u7528\u6237\u4fe1\u606f\uff09"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"header.payload.signature\n"})}),"\n",(0,i.jsx)(n.h2,{id:"jwt-\u9274\u6743\u673a\u5236\u5982\u4f55\u5b9e\u73b0",children:"JWT \u9274\u6743\u673a\u5236\u5982\u4f55\u5b9e\u73b0\uff1f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u7528\u6237\u767b\u5f55 -> \u670d\u52a1\u7aef\u751f\u6210 JWT -> \u8fd4\u56de\u7ed9\u5ba2\u6237\u7aef"}),"\n",(0,i.jsx)(n.li,{children:"\u5ba2\u6237\u7aef\u6bcf\u6b21\u8bf7\u6c42\u643a\u5e26 JWT"}),"\n",(0,i.jsx)(n.li,{children:"\u670d\u52a1\u7aef\u9a8c\u8bc1 JWT \u662f\u5426\u6709\u6548"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const jwt = require('jsonwebtoken');\nconst secret = 'my_secret';\n\n// \u767b\u5f55\u751f\u6210 token\nconst token = jwt.sign({ userId: 123 }, secret, { expiresIn: '1h' });\nconsole.log('Token:', token);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"jwt-\u9274\u6743\u673a\u5236--\u5982\u4f55\u9a8c\u8bc1-token",children:"JWT \u9274\u6743\u673a\u5236 \u2014 \u5982\u4f55\u9a8c\u8bc1 token"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u670d\u52a1\u7aef\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"jwt.verify(token, secret)"})," \u9a8c\u8bc1"]}),"\n",(0,i.jsx)(n.li,{children:"\u9a8c\u8bc1\u6210\u529f\u5373\u53ef\u7ee7\u7eed\u8bbf\u95ee\uff0c\u5426\u5219\u62d2\u7edd"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"node-\u4e2d-stream-\u7684\u57fa\u672c\u4f7f\u7528",children:"Node \u4e2d Stream \u7684\u57fa\u672c\u4f7f\u7528"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Stream \u662f\u5904\u7406\u6d41\u5f0f\u6570\u636e\u7684\u63a5\u53e3\uff0c\u907f\u514d\u4e00\u6b21\u6027\u8bfb\u5199\u5927\u6587\u4ef6"}),"\n",(0,i.jsxs)(n.li,{children:["\u56db\u79cd\u7c7b\u578b\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Readable"}),"\n",(0,i.jsx)(n.li,{children:"Writable"}),"\n",(0,i.jsx)(n.li,{children:"Duplex"}),"\n",(0,i.jsx)(n.li,{children:"Transform"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\nconst readStream = fs.createReadStream('large.txt', 'utf8');\n\nreadStream.on('data', chunk => {\n  console.log('\u8bfb\u53d6\u6570\u636e\u5757:', chunk.length);\n});\n\nreadStream.on('end', () => {\n  console.log('\u8bfb\u53d6\u5b8c\u6210');\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u4e2d-stream-\u7684\u79cd\u7c7b",children:"Node \u4e2d Stream \u7684\u79cd\u7c7b"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Readable\uff1a\u53ef\u8bfb"}),"\n",(0,i.jsx)(n.li,{children:"Writable\uff1a\u53ef\u5199"}),"\n",(0,i.jsx)(n.li,{children:"Duplex\uff1a\u8bfb\u5199"}),"\n",(0,i.jsx)(n.li,{children:"Transform\uff1a\u53ef\u8f6c\u6362\uff08\u4f8b\u5982 gzip \u538b\u7f29\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\nconst writeStream = fs.createWriteStream('output.txt');\nwriteStream.write('Hello Stream\\n');\nwriteStream.end();\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u4e2d-stream-\u7684\u4f7f\u7528\u573a\u666f",children:"Node \u4e2d Stream \u7684\u4f7f\u7528\u573a\u666f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5927\u6587\u4ef6\u5904\u7406\uff08\u4e0a\u4f20/\u4e0b\u8f7d\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u6570\u636e\u7ba1\u9053\uff08pipe\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u5b9e\u65f6\u65e5\u5fd7\u5904\u7406"}),"\n",(0,i.jsx)(n.li,{children:"\u7f51\u7edc\u8bf7\u6c42\u6d41"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const fs = require('fs');\nconst readStream = fs.createReadStream('large.txt');\nconst writeStream = fs.createWriteStream('copy.txt');\n\nreadStream.pipe(writeStream);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684-process",children:"Node \u7684 process"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"process \u662f Node \u63d0\u4f9b\u7684\u5168\u5c40\u5bf9\u8c61\uff0c\u8868\u793a Node \u8fdb\u7a0b"}),"\n",(0,i.jsxs)(n.li,{children:["\u5e38\u7528\u5c5e\u6027\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"process.argv \u547d\u4ee4\u884c\u53c2\u6570"}),"\n",(0,i.jsx)(n.li,{children:"process.env \u73af\u5883\u53d8\u91cf"}),"\n",(0,i.jsx)(n.li,{children:"process.exit() \u9000\u51fa\u8fdb\u7a0b"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log('\u547d\u4ee4\u884c\u53c2\u6570:', process.argv);\nconsole.log('\u73af\u5883\u53d8\u91cf:', process.env.NODE_ENV);\nprocess.exit(0);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u4e2d-process-\u7684\u57fa\u672c\u4f7f\u7528",children:"Node \u4e2d process \u7684\u57fa\u672c\u4f7f\u7528"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u76d1\u542c\u4e8b\u4ef6\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"exit"}),"\n",(0,i.jsx)(n.li,{children:"uncaughtException"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"}),"\n",(0,i.jsx)(n.li,{children:"\u83b7\u53d6\u5185\u5b58\u4f7f\u7528\u60c5\u51b5"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"process.on('exit', code => {\n  console.log('\u8fdb\u7a0b\u9000\u51fa\u7801:', code);\n});\n\nconsole.log('\u5f53\u524d\u5185\u5b58\u4f7f\u7528:', process.memoryUsage());\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684-eventemitter",children:"Node \u7684 eventEmitter"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"EventEmitter \u662f Node \u4e8b\u4ef6\u9a71\u52a8\u673a\u5236\u6838\u5fc3\u7c7b"}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u4ee5\u6ce8\u518c\u3001\u89e6\u53d1\u4e8b\u4ef6"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const EventEmitter = require('events');\nconst emitter = new EventEmitter();\n\nemitter.on('sayHello', (name) => {\n  console.log(`Hello, ${name}`);\n});\n\nemitter.emit('sayHello', 'Node');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u4e2d-eventemitter-\u7684\u57fa\u672c\u4f7f\u7528",children:"Node \u4e2d eventEmitter \u7684\u57fa\u672c\u4f7f\u7528"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6ce8\u518c\u4e8b\u4ef6\uff1aon / once"}),"\n",(0,i.jsx)(n.li,{children:"\u89e6\u53d1\u4e8b\u4ef6\uff1aemit"}),"\n",(0,i.jsx)(n.li,{children:"\u79fb\u9664\u4e8b\u4ef6\uff1aremoveListener"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const EventEmitter = require('events');\nconst emitter = new EventEmitter();\n\nfunction greet(name) { console.log('Hi', name); }\nemitter.on('greet', greet);\nemitter.emit('greet', 'Alice');\nemitter.removeListener('greet', greet);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u4e2d-eventemitter-\u662f\u5982\u4f55\u5b9e\u73b0\u7684",children:"Node \u4e2d eventEmitter \u662f\u5982\u4f55\u5b9e\u73b0\u7684\uff1f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5185\u90e8\u7ef4\u62a4\u4e00\u4e2a\u4e8b\u4ef6\u540d\u79f0\u5230\u56de\u8c03\u51fd\u6570\u6570\u7ec4\u7684\u6620\u5c04"}),"\n",(0,i.jsx)(n.li,{children:"emit \u904d\u5386\u6570\u7ec4\u4f9d\u6b21\u8c03\u7528\u56de\u8c03"}),"\n",(0,i.jsx)(n.li,{children:"\u57fa\u4e8e\u53d1\u5e03/\u8ba2\u9605\u6a21\u5f0f"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"class MyEmitter {\n  constructor() { this.events = {}; }\n  on(event, fn) {\n    this.events[event] = this.events[event] || [];\n    this.events[event].push(fn);\n  }\n  emit(event, ...args) {\n    (this.events[event] || []).forEach(fn => fn(...args));\n  }\n}\n\nconst emitter = new MyEmitter();\nemitter.on('msg', (text) => console.log(text));\nemitter.emit('msg', 'Hello!');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684\u4e2d\u95f4\u4ef6",children:"Node \u7684\u4e2d\u95f4\u4ef6"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4e2d\u95f4\u4ef6\uff1a\u51fd\u6570\u94fe\uff0c\u63a5\u6536 req, res, next"}),"\n",(0,i.jsx)(n.li,{children:"\u5728\u8bf7\u6c42\u5904\u7406\u524d/\u540e\u505a\u4e00\u4e9b\u5904\u7406"}),"\n",(0,i.jsx)(n.li,{children:"\u5e38\u89c1\u4e8e Express/Koa"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const express = require('express');\nconst app = express();\n\nfunction logger(req, res, next) {\n  console.log(`${req.method} ${req.url}`);\n  next();\n}\n\napp.use(logger);\n\napp.get('/', (req, res) => res.send('Hello Middleware'));\napp.listen(3000);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528 app.use() \u6216\u8def\u7531\u7ea7\u4e2d\u95f4\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u505a\u9274\u6743\u3001\u65e5\u5fd7\u3001\u5f02\u5e38\u5904\u7406\u7b49"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"app.use((req, res, next) => {\n  if (!req.headers.authorization) {\n    return res.status(401).send('Unauthorized');\n  }\n  next();\n});\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684\u4e8b\u4ef6\u5faa\u73af\u673a\u5236\u662f\u4ec0\u4e48",children:"Node \u7684\u4e8b\u4ef6\u5faa\u73af\u673a\u5236\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Node \u5355\u7ebf\u7a0b\u901a\u8fc7\u4e8b\u4ef6\u5faa\u73af\u5b9e\u73b0\u9ad8\u5e76\u53d1"}),"\n",(0,i.jsxs)(n.li,{children:["\u5f02\u6b65\u4efb\u52a1\u5206\u4e3a\u5b8f\u4efb\u52a1\uff08",(0,i.jsx)(n.code,{children:"setTimeout"}),", ",(0,i.jsx)(n.code,{children:"setImmediate"}),"\uff09\u548c\u5fae\u4efb\u52a1\uff08",(0,i.jsx)(n.code,{children:"Promise"}),",",(0,i.jsx)(n.code,{children:" process.nextTick"}),"\uff09"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684\u4e8b\u4ef6\u5faa\u73af\u6d41\u7a0b",children:"Node \u7684\u4e8b\u4ef6\u5faa\u73af\u6d41\u7a0b"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u6267\u884c\u6808\u6267\u884c\u540c\u6b65\u4ee3\u7801"}),"\n",(0,i.jsx)(n.li,{children:"\u6267\u884c\u5fae\u4efb\u52a1\u961f\u5217\uff08process.nextTick, Promise.then\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u6267\u884c I/O \u56de\u8c03\uff08Timer, IO callbacks\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u6267\u884c setImmediate"}),"\n",(0,i.jsx)(n.li,{children:"\u8fdb\u5165\u4e0b\u4e00\u8f6e\u5faa\u73af"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log('start');\n\nsetTimeout(() => console.log('setTimeout'), 0);\nsetImmediate(() => console.log('setImmediate'));\n\nPromise.resolve().then(() => console.log('promise'));\n\nprocess.nextTick(() => console.log('nextTick'));\n\nconsole.log('end');\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u8f93\u51fa\u987a\u5e8f\uff1a"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"start\nend\nnextTick\npromise\nsetTimeout\nsetImmediate\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684\u4e8b\u4ef6\u5faa\u73af\u6d41\u7a0b\u5728\u9762\u8bd5\u4e2d\u5982\u4f55\u56de\u7b54",children:"Node \u7684\u4e8b\u4ef6\u5faa\u73af\u6d41\u7a0b\u5728\u9762\u8bd5\u4e2d\u5982\u4f55\u56de\u7b54\uff1f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u7b80\u6d01\u7248\uff1aNode \u5355\u7ebf\u7a0b\uff0c\u4e8b\u4ef6\u5faa\u73af + \u5f02\u6b65\u975e\u963b\u585e I/O\uff0c\u5fae\u4efb\u52a1\u4f18\u5148\u4e8e\u5b8f\u4efb\u52a1"}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u753b\u56fe\u89e3\u91ca\u6267\u884c\u6808\u3001\u56de\u8c03\u961f\u5217\u548c\u4e8b\u4ef6\u5faa\u73af\u9636\u6bb5"}),"\n",(0,i.jsxs)(n.li,{children:["\u9762\u8bd5\u9898\u91cd\u70b9\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5fae\u4efb\u52a1 vs \u5b8f\u4efb\u52a1"}),"\n",(0,i.jsx)(n.li,{children:"setImmediate vs setTimeout"}),"\n",(0,i.jsx)(n.li,{children:"process.nextTick"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684\u6027\u80fd\u662f\u4ec0\u4e48",children:"Node \u7684\u6027\u80fd\u662f\u4ec0\u4e48\uff1f"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u6027\u80fd\u6307\u6807\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u54cd\u5e94\u65f6\u95f4"}),"\n",(0,i.jsx)(n.li,{children:"\u541e\u5410\u91cf"}),"\n",(0,i.jsx)(n.li,{children:"CPU \u5360\u7528"}),"\n",(0,i.jsx)(n.li,{children:"\u5185\u5b58\u4f7f\u7528"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u6027\u80fd\u74f6\u9888\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CPU \u5bc6\u96c6\u578b\u4efb\u52a1"}),"\n",(0,i.jsx)(n.li,{children:"\u5927\u91cf\u540c\u6b65 I/O"}),"\n",(0,i.jsx)(n.li,{children:"\u963b\u585e\u4e8b\u4ef6\u5faa\u73af"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684\u76d1\u63a7",children:"Node \u7684\u76d1\u63a7"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u5e38\u7528\u6307\u6807\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Event Loop \u5ef6\u8fdf"}),"\n",(0,i.jsx)(n.li,{children:"CPU/\u5185\u5b58"}),"\n",(0,i.jsx)(n.li,{children:"\u8bf7\u6c42\u6570\u3001\u9519\u8bef\u7387"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5de5\u5177\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"pm2"}),"\n",(0,i.jsx)(n.li,{children:"node-clinic"}),"\n",(0,i.jsx)(n.li,{children:"prometheus + grafana"}),"\n",(0,i.jsx)(n.li,{children:"\u5185\u7f6e process API\n\u4ee3\u7801 demo\uff08\u76d1\u63a7 event loop \u5ef6\u8fdf\uff09"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const { performance } = require('perf_hooks');\n\nsetInterval(() => {\n  const start = performance.now();\n  setImmediate(() => {\n    const delay = performance.now() - start;\n    console.log('Event loop delay:', delay.toFixed(2), 'ms');\n  });\n}, 1000);\n"})}),"\n",(0,i.jsx)(n.h2,{id:"node-\u7684\u6027\u80fd\u4f18\u5316",children:"Node \u7684\u6027\u80fd\u4f18\u5316"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u5f02\u6b65 I/O\uff0c\u907f\u514d\u963b\u585e"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528 Stream \u5904\u7406\u5927\u6587\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"\u5229\u7528 cluster \u6216 worker_threads \u591a\u7ebf\u7a0b\u5904\u7406 CPU \u5bc6\u96c6\u4efb\u52a1"}),"\n",(0,i.jsx)(n.li,{children:"\u7f13\u5b58\u70ed\u70b9\u6570\u636e"}),"\n",(0,i.jsx)(n.li,{children:"\u51cf\u5c11\u4e2d\u95f4\u4ef6\u548c\u540c\u6b65\u963b\u585e\n\u4ee3\u7801 demo\uff08cluster \u591a\u6838\uff09\uff1a"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const cluster = require('cluster');\nconst http = require('http');\nconst numCPUs = require('os').cpus().length;\n\nif (cluster.isMaster) {\n  for (let i = 0; i < numCPUs; i++) cluster.fork();\n  cluster.on('exit', (worker) => {\n    console.log(`Worker ${worker.process.pid} exited`);\n    cluster.fork();\n  });\n} else {\n  http.createServer((req, res) => {\n    res.end('Hello Cluster');\n  }).listen(3000);\n}\n"})})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9087:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>c});var l=s(6363);const i={},r=l.createContext(i);function d(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);