"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[9126],{8558:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"interview-questions/basics-engineering","title":"\u5de5\u7a0b\u5316\u57fa\u7840\u76f8\u5173","description":"01 \u540c\u4e00\u4e2a\u9875\u9762\u4e09\u4e2a\u7ec4\u4ef6\u8bf7\u6c42\u540c\u4e00\u4e2a API","source":"@site/docs/interview-questions/basics-engineering.md","sourceDirName":"interview-questions","slug":"/interview-questions/basics-engineering","permalink":"/docs/interview-questions/basics-engineering","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/interview-questions/basics-engineering.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"\u5de5\u7a0b\u5316\u57fa\u7840\u76f8\u5173"},"sidebar":"tutorialSidebar","previous":{"title":"react\u76f8\u5173","permalink":"/docs/interview-questions/basics-react"},"next":{"title":"Tutorial - Extras","permalink":"/docs/category/tutorial---extras"}}');var i=l(7259),r=l(9087);const c={sidebar_position:4,title:"\u5de5\u7a0b\u5316\u57fa\u7840\u76f8\u5173"},o=void 0,d={},a=[{value:"01 \u540c\u4e00\u4e2a\u9875\u9762\u4e09\u4e2a\u7ec4\u4ef6\u8bf7\u6c42\u540c\u4e00\u4e2a API",id:"01-\u540c\u4e00\u4e2a\u9875\u9762\u4e09\u4e2a\u7ec4\u4ef6\u8bf7\u6c42\u540c\u4e00\u4e2a-api",level:2},{value:"02 cjs / esm / umd \u7b49\u533a\u522b\u662f\u4ec0\u4e48",id:"02-cjs--esm--umd-\u7b49\u533a\u522b\u662f\u4ec0\u4e48",level:2},{value:"03 \u524d\u7aef\u6743\u9650\u7ba1\u7406\u7684\u6a21\u578b",id:"03-\u524d\u7aef\u6743\u9650\u7ba1\u7406\u7684\u6a21\u578b",level:2},{value:"04 peerDependencies",id:"04-peerdependencies",level:2},{value:"05 pnpm \u6709\u4ec0\u4e48\u4f18\u52bf",id:"05-pnpm-\u6709\u4ec0\u4e48\u4f18\u52bf",level:2},{value:"06 eslint \u4f5c\u7528",id:"06-eslint-\u4f5c\u7528",level:2},{value:"07 browserslist",id:"07-browserslist",level:2},{value:"08 minify \u4ee3\u7801\u538b\u7f29",id:"08-minify-\u4ee3\u7801\u538b\u7f29",level:2},{value:"09 package-lock.json",id:"09-package-lockjson",level:2},{value:"10 serverless",id:"10-serverless",level:2},{value:"11 \u5e38\u89c1\u7684 Loader\uff08\u4f60\u7528\u8fc7\u54ea\u4e9b\uff09",id:"11-\u5e38\u89c1\u7684-loader\u4f60\u7528\u8fc7\u54ea\u4e9b",level:2},{value:"12 \u5e38\u89c1\u7684 Plugin\uff08\u89c1\u8fc7\u54ea\u4e9b\uff09",id:"12-\u5e38\u89c1\u7684-plugin\u89c1\u8fc7\u54ea\u4e9b",level:2},{value:"13 Loader \u548c Plugin \u7684\u533a\u522b",id:"13-loader-\u548c-plugin-\u7684\u533a\u522b",level:2},{value:"14 Webpack \u6784\u5efa\u6d41\u7a0b\u7b80\u5355\u8bf4\u4e00\u4e0b",id:"14-webpack-\u6784\u5efa\u6d41\u7a0b\u7b80\u5355\u8bf4\u4e00\u4e0b",level:2},{value:"15 \u4f7f\u7528 webpack \u5f00\u53d1\u65f6\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\u7684\u63d2\u4ef6",id:"15-\u4f7f\u7528-webpack-\u5f00\u53d1\u65f6\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\u7684\u63d2\u4ef6",level:2},{value:"16 \u6587\u4ef6\u6307\u7eb9\u662f\u4ec0\u4e48\uff1f\u600e\u4e48\u7528\uff1f",id:"16-\u6587\u4ef6\u6307\u7eb9\u662f\u4ec0\u4e48\u600e\u4e48\u7528",level:2},{value:"17 \u5982\u4f55\u4f18\u5316 Webpack \u6784\u5efa\u901f\u5ea6\uff1f",id:"17-\u5982\u4f55\u4f18\u5316-webpack-\u6784\u5efa\u901f\u5ea6",level:2},{value:"18 \u5199\u8fc7 Loader \u5417\uff1f\u7f29\u5199 loader \u601d\u8def",id:"18-\u5199\u8fc7-loader-\u5417\u7f29\u5199-loader-\u601d\u8def",level:2},{value:"19 \u5199\u8fc7 Plugin \u5417\uff1f\u7f16\u5199 Plugin \u601d\u8def",id:"19-\u5199\u8fc7-plugin-\u5417\u7f16\u5199-plugin-\u601d\u8def",level:2},{value:"20 Babel \u539f\u7406",id:"20-babel-\u539f\u7406",level:2},{value:"21 source map \u662f\u4ec0\u4e48\uff1f\u751f\u4ea7\u73af\u5883\u600e\u4e48\u7528\uff1f",id:"21-source-map-\u662f\u4ec0\u4e48\u751f\u4ea7\u73af\u5883\u600e\u4e48\u7528",level:2},{value:"22 \u6587\u4ef6\u76d1\u542c\u539f\u7406",id:"22-\u6587\u4ef6\u76d1\u542c\u539f\u7406",level:2},{value:"23 Webpack \u70ed\u66f4\u65b0\uff08HMR\uff09\u539f\u7406",id:"23-webpack-\u70ed\u66f4\u65b0hmr\u539f\u7406",level:2},{value:"24 Webpack \u4e8b\u4ef6\u673a\u5236\u4e86\u89e3\u5417\uff1f",id:"24-webpack-\u4e8b\u4ef6\u673a\u5236\u4e86\u89e3\u5417",level:2},{value:"25 \u4e86\u89e3 Webpack5 \u5417\uff0c\u76f8\u6bd4 Webpack4 \u6709\u54ea\u4e9b\u63d0\u5347\uff1f",id:"25-\u4e86\u89e3-webpack5-\u5417\u76f8\u6bd4-webpack4-\u6709\u54ea\u4e9b\u63d0\u5347",level:2},{value:"26 \u6a21\u5757\u8054\u90a6\uff08Module Federation\uff09\u7406\u89e3",id:"26-\u6a21\u5757\u8054\u90a6module-federation\u7406\u89e3",level:2},{value:"27 \u4ec0\u4e48\u662f <code>Webpack</code>\uff1f\u5b83\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f",id:"27-\u4ec0\u4e48\u662f-webpack\u5b83\u7684\u4f5c\u7528\u662f\u4ec0\u4e48",level:2},{value:"28 <code>Webpack</code> \u4e2d\u6709\u54ea\u4e9b\u6838\u5fc3\u6982\u5ff5\uff1f",id:"28-webpack-\u4e2d\u6709\u54ea\u4e9b\u6838\u5fc3\u6982\u5ff5",level:2},{value:"29 Webpack \u7684 mode \u662f\u4ec0\u4e48",id:"29-webpack-\u7684-mode-\u662f\u4ec0\u4e48",level:2},{value:"30 \u4ec0\u4e48\u662f\u4ee3\u7801\u5206\u5272\uff08Code Splitting\uff09\uff1f\u5982\u4f55\u5728 Webpack \u4e2d\u5b9e\u73b0\uff1f",id:"30-\u4ec0\u4e48\u662f\u4ee3\u7801\u5206\u5272code-splitting\u5982\u4f55\u5728-webpack-\u4e2d\u5b9e\u73b0",level:2}];function t(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"01-\u540c\u4e00\u4e2a\u9875\u9762\u4e09\u4e2a\u7ec4\u4ef6\u8bf7\u6c42\u540c\u4e00\u4e2a-api",children:"01 \u540c\u4e00\u4e2a\u9875\u9762\u4e09\u4e2a\u7ec4\u4ef6\u8bf7\u6c42\u540c\u4e00\u4e2a API"}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8981\u70b9/\u7b54\u6848\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u907f\u514d\u91cd\u590d\u8bf7\u6c42\uff1a\u4f7f\u7528\u5171\u4eab\u72b6\u6001\u6216\u8bf7\u6c42\u53bb\u91cd\uff08dedupe\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u53ef\u7528\u65b9\u6848\uff1a\u5168\u5c40\u7f13\u5b58\uff08Redux/Pinia/Zustand\uff09\u3001\u8bf7\u6c42\u7ea7\u7f13\u5b58\uff08axios cache\uff09\u3001\u8bf7\u6c42\u961f\u5217 + Promise \u590d\u7528\u3001SSR/\u9884\u53d6\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u7ec6\u8282\uff1a\u8bf7\u6c42\u53c2\u6570\u76f8\u540c\u624d\u590d\u7528\uff0c\u8003\u8651\u7f13\u5b58\u5931\u6548\u3001\u5e76\u53d1\u51b2\u7a81\u3001\u9519\u8bef\u91cd\u8bd5\u3001\u53d6\u6d88\u8bf7\u6c42\uff08AbortController\uff09\u3002\n\u793a\u4f8b\u4ee3\u7801\uff08\u7528 Promise \u53bb\u91cd + \u7b80\u5355\u7f13\u5b58\uff0c\u9002\u7528\u4e8e fetch/axios\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// requestPool.js\nconst pool = new Map(); // key -> Promise\nconst cache = new Map(); // key -> { data, expire }\n\nfunction genKey(url, params) {\nreturn url + '::' + JSON.stringify(params || {});\n}\n\nexport async function request(url, params = {}, opts = {}) {\nconst key = genKey(url, params);\nconst now = Date.now();\nconst ttl = opts.ttl || 0;\n\nif (cache.has(key)) {\nconst { data, expire } = cache.get(key);\nif (!expire || expire > now) return data;\ncache.delete(key);\n}\n\nif (pool.has(key)) {\n// \u6709\u6b63\u5728\u8fdb\u884c\u7684\u8bf7\u6c42\uff0c\u76f4\u63a5\u590d\u7528 Promise\nreturn pool.get(key);\n\n}\n\nconst p = fetch(url, {\nmethod: opts.method || 'GET',\nheaders: opts.headers,\nbody: opts.body ? JSON.stringify(opts.body) : undefined,\nsignal: opts.signal,\n})\n.then(res => {\nif (!res.ok) throw new Error('Network error');\nreturn res.json();\n})\n.then(data => {\nif (ttl > 0) cache.set(key, { data, expire: now + ttl });\nreturn data;\n})\n.finally(() => {\npool.delete(key);\n});\n\npool.set(key, p);\nreturn p;\n}\n// ExampleComponent.jsx (React)\nimport React, { useEffect, useState } from 'react';\nimport { request } from './requestPool';\n\nfunction Item() {\nconst [data, setData] = useState(null);\nuseEffect(() => {\nlet ac = new AbortController();\nrequest('/api/items', {}, { ttl: 5000, signal: ac.signal })\n.then(setData)\n.catch(err => { if (err.name !== 'AbortError') console.error(err);});\nreturn () => ac.abort();\n}, []);\nreturn <div>{data ? JSON.stringify(data) : 'loading'}</div>;\n}\n\nexport default function Page() {\nreturn (\n<div>\n<Item /><Item /><Item />\n</div>\n);\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u6211\u4eec\u91c7\u7528\u8bf7\u6c42\u590d\u7528\uff08Promise pooling\uff09+ \u53ef\u914d\u7f6e TTL \u7f13\u5b58\uff0c\u907f\u514d\u540c\u4e00\u65f6\u523b\u7684\u91cd\u590d\u7f51\u7edc\u8bf7\u6c42\uff0c\u540c\u65f6\u652f\u6301 AbortController \u53d6\u6d88\u4e0e\u9519\u8bef\u8fb9\u754c\u5904\u7406\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"02-cjs--esm--umd-\u7b49\u533a\u522b\u662f\u4ec0\u4e48",children:"02 cjs / esm / umd \u7b49\u533a\u522b\u662f\u4ec0\u4e48"}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CJS (CommonJS)\uff1aNode.js \u4f20\u7edf\u6a21\u5757\uff08require/module.exports\uff09\uff0c\u540c\u6b65\u52a0\u8f7d\uff0c\u9002\u7528\u4e8e\u670d\u52a1\u5668\u3002"}),"\n",(0,i.jsx)(n.li,{children:"ESM (ES Modules)\uff1aimport/export\uff0c\u9759\u6001\u5206\u6790\u3001\u652f\u6301 tree-shaking\u3001\u53ef\u4ee5\u5f02\u6b65\u52a0\u8f7d\uff0c\u6d4f\u89c8\u5668/\u73b0\u4ee3\u6253\u5305\u5668\u4f18\u5148\u3002"}),"\n",(0,i.jsx)(n.li,{children:"UMD (Universal Module Definition)\uff1a\u517c\u5bb9 AMD\u3001CJS\u3001\u5168\u5c40\u53d8\u91cf\uff0c\u5e38\u7528\u4e8e\u53d1\u5e03\u517c\u5bb9\u5305\uff08CDN\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u9009\u578b\u539f\u5219\uff1a\u5e93\u53d1\u5e03 -> \u63d0\u4f9b ESM + CJS + UMD\uff08\u517c\u5bb9\u65e7\u73af\u5883\uff09\uff1b\u5e94\u7528\u4e2d\u4f18\u5148 ESM\u3002\n\u793a\u4f8b\uff1a\u8f93\u51fa\u591a\u683c\u5f0f\uff08Rollup \u914d\u7f6e\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// rollup.config.js\nimport commonjs from '@rollup/plugin-commonjs';\nimport nodeResolve from '@rollup/plugin-node-resolve';\nimport { terser } from 'rollup-plugin-terser';\n\nexport default [\n{\ninput: 'src/index.js',\noutput: { file: 'dist/bundle.cjs.js', format: 'cjs' },\nplugins: [nodeResolve(), commonjs()],\n},\n{\ninput: 'src/index.js',\noutput: { file: 'dist/bundle.esm.js', format: 'es' },\nplugins: [nodeResolve()],\n},\n{\ninput: 'src/index.js',\noutput: { file: 'dist/bundle.umd.js', format: 'umd', name: 'MyLib' },\nplugins: [nodeResolve(), commonjs(), terser()],\n},\n];\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u5e93\u901a\u5e38\u63d0\u4f9b ESM \u4ee5\u4fbf tree-shaking\uff0cCJS \u4fdd\u6301 Node \u517c\u5bb9\uff0cUMD \u63d0\u4f9b\u6d4f\u89c8\u5668\u76f4\u63a5\u5f15\u5165\u652f\u6301\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"03-\u524d\u7aef\u6743\u9650\u7ba1\u7406\u7684\u6a21\u578b",children:"03 \u524d\u7aef\u6743\u9650\u7ba1\u7406\u7684\u6a21\u578b"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6743\u9650\u7ef4\u5ea6\uff1a\u8ba4\u8bc1\uff08AuthN\uff09 vs \u6388\u6743\uff08AuthZ\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6a21\u578b\uff1a"}),"\n",(0,i.jsx)(n.li,{children:"RBAC\uff08\u57fa\u4e8e\u89d2\u8272 Role-Based\uff09\u2014\u2014 \u89d2\u8272\u6620\u5c04\u6743\u9650\u96c6\u5408\uff08\u5e38\u89c1\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"ABAC\uff08\u57fa\u4e8e\u5c5e\u6027 Attribute-Based\uff09\u2014\u2014 \u57fa\u4e8e\u8d44\u6e90/\u7528\u6237/\u73af\u5883\u5c5e\u6027\u5224\u65ad\uff08\u66f4\u7075\u6d3b\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"PBAC / ACL\uff08\u57fa\u4e8e\u7b56\u7565\u6216\u8bbf\u95ee\u63a7\u5236\u5217\u8868\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u524d\u7aef\u5b9e\u8df5\uff1a\u6700\u5c0f\u6743\u9650\u5c55\u793a\u3001\u8def\u7531\u5b88\u536b\u3001\u7ec4\u4ef6\u7ea7\u6743\u9650\u6307\u4ee4\u3001\u540e\u7aef\u8fd4\u56de\u53ef\u6388\u6743\u83dc\u5355/\u6309\u94ae\u3001\u7b56\u7565\u4e2d\u5fc3\u5316\uff08\u7b56\u7565\u670d\u52a1\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u9632\u5fa1\u6027\u8bbe\u8ba1\uff1a\u524d\u7aef\u53ea\u505a UI \u9690\u85cf\uff0c\u5173\u952e\u6743\u9650\u5fc5\u987b\u5728\u540e\u7aef\u6821\u9a8c\u3002\n\u4ee3\u7801\u793a\u4f8b\uff1a\u7b80\u5355 RBAC\uff08React + route guard\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// auth.js\nexport const currentUser = { roles: ['editor'] };\nexport const hasPermission = (permission) => {\nconst rolePerm = {\nadmin: ['read','write','delete'],\neditor: ['read','write'],\nguest: ['read']\n};\nreturn currentUser.roles.some(r => (rolePerm[r] || []).includes(permission));\n};\n// ProtectedButton.jsx\nimport React from 'react';\nimport { hasPermission } from './auth';\n\nexport default function ProtectedButton({ permission, children, ...rest }) {\nif (!hasPermission(permission)) return null; // \u6216\u8005disabled\nreturn <button {...rest}>{children}</button>;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u524d\u7aef\u4ee5 RBAC \u505a\u5c55\u793a\u6743\u9650\uff0c\u540e\u7aef\u505a\u5f3a\u6821\u9a8c\uff1b\u590d\u6742\u573a\u666f\u53ef\u7528 ABAC \u5b9e\u73b0\u7ec6\u7c92\u5ea6\u7b56\u7565\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"04-peerdependencies",children:"04 peerDependencies"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"peerDependencies \u8868\u793a\u5305\u9700\u8981\u5bbf\u4e3b\uff08\u9879\u76ee\uff09\u5b89\u88c5\u7684\u4f9d\u8d56\u7248\u672c\uff08\u901a\u5e38\u7528\u4e8e\u63d2\u4ef6/\u5e93\u4e0e\u5bbf\u4e3b\u5171\u4eab\u540c\u4e00\u4efd\u4f9d\u8d56\uff0c\u5982 React\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4f5c\u7528\uff1a\u907f\u514d\u5e93\u81ea\u5e26\u591a\u4efd React\uff08\u907f\u514d\u7248\u672c\u51b2\u7a81\uff09\uff0c\u8ba9\u5bbf\u4e3b\u63a7\u5236\u4f9d\u8d56\u7248\u672c\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6ce8\u610f\u4e8b\u9879\uff1a\u53d1\u5e03\u65f6\u58f0\u660e peerDeps\uff0c\u914d\u5408 peerDependenciesMeta \u6807\u6ce8\u53ef\u9009\u9879\uff1b\u5728\u5f00\u53d1\u65f6 use npm/yarn/pnpm \u7684 --legacy-peer-deps/workspace \u7ba1\u7406\u3002\n\u793a\u4f8b package.json"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'{\n"name": "my-component-lib",\n"version": "1.0.0",\n"peerDependencies": {\n"react": "^18.0.0",\n"react-dom": "^18.0.0"\n},\n"peerDependenciesMeta": {\n"react": { "optional": false }\n}\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cpeerDependencies \u7528\u5728\u63d2\u4ef6/\u7ec4\u4ef6\u5e93\uff0c\u786e\u4fdd\u5bbf\u4e3b\u9879\u76ee\u5b89\u88c5\u5e76\u7edf\u4e00\u63a7\u5236\u4f9d\u8d56\u7684\u7248\u672c\uff0c\u9632\u6b62\u91cd\u590d\u6253\u5305\u4e0e\u8fd0\u884c\u65f6\u51b2\u7a81\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"05-pnpm-\u6709\u4ec0\u4e48\u4f18\u52bf",children:"05 pnpm \u6709\u4ec0\u4e48\u4f18\u52bf"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u78c1\u76d8\u8282\u7701\uff1a\u5185\u5bb9\u5bfb\u5740\u5b58\u50a8\uff08store\uff09+ \u786c\u94fe\u63a5\uff0c\u907f\u514d\u91cd\u590d\u4f9d\u8d56\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5b89\u88c5\u901f\u5ea6\u5feb\u3001\u4e25\u683c\u7684 node_modules \u5e03\u5c40\uff08\u907f\u514d\u201c\u5e7d\u7075\u4f9d\u8d56\u201d\uff09\uff0cworkspace \u652f\u6301\u597d\uff0c\u9002\u5408 monorepo\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5bf9\u5305\u7ba1\u7406\u7b56\u7565\uff08\u5982 pnpmfile\u3001hooks\uff09\u4e0e\u9501\u6587\u4ef6\u5065\u58ee\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u9762\u8bd5\u53ef\u8865\u5145\uff1a\u9700\u5904\u7406 Node resolution \u7684\u67d0\u4e9b\u8001\u5de5\u5177\u517c\u5bb9\u95ee\u9898\uff0c\u4f46\u73b0\u4ee3\u5de5\u5177\u517c\u5bb9\u826f\u597d\u3002\n\u793a\u4f8b\uff1apnpm workspace \u914d\u7f6e"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'// pnpm-workspace.yaml\npackages:\n- \'packages/*\'\n  // package.json (root)\n  {\n  "name": "monorepo",\n  "private": true,\n  "devDependencies": {}\n  }\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cpnpm \u5728 monorepo \u73af\u5883\u4e0b\u80fd\u663e\u8457\u8282\u7701\u78c1\u76d8\u5e76\u63d0\u9ad8\u5b89\u88c5\u901f\u5ea6\uff0c\u540c\u65f6\u5f3a\u5236\u4f9d\u8d56\u58f0\u660e\uff0c\u51cf\u5c11\u8fd0\u884c\u65f6\u95ee\u9898\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"06-eslint-\u4f5c\u7528",children:"06 eslint \u4f5c\u7528"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u9759\u6001\u4ee3\u7801\u68c0\u67e5\uff0c\u4fdd\u6301\u4ee3\u7801\u98ce\u683c\u4e00\u81f4\u3001\u6355\u6349\u6f5c\u5728\u9519\u8bef\uff08\u672a\u4f7f\u7528\u53d8\u91cf\u3001\u8bed\u6cd5\u9519\u8bef\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u652f\u6301\u81ea\u5b9a\u4e49\u89c4\u5219\u3001\u63d2\u4ef6\uff08React\u3001TypeScript\u3001Security\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5728\u5de5\u7a0b\u5316\u4e2d\uff1a\u4f5c\u4e3a CI \u95e8\u69db\u3001pre-commit\uff08husky + lint-staged\uff09\u73af\u8282\u3001IDE \u5373\u65f6\u53cd\u9988\u3002\n\u793a\u4f8b\uff1aESLint + Prettier \u914d\u7f6e"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// .eslintrc.js\nmodule.exports = {\nroot: true,\nparser: '@typescript-eslint/parser',\nplugins: ['@typescript-eslint', 'react'],\nextends: [\n'eslint:recommended',\n'plugin:react/recommended',\n'plugin:@typescript-eslint/recommended',\n'prettier'\n],\nrules: {\n'no-unused-vars': 'warn',\n'react/prop-types': 'off'\n},\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cESLint \u662f\u4ee3\u7801\u8d28\u91cf\u7b2c\u4e00\u9053\u9632\u7ebf\uff0c\u7ed3\u5408 CI \u548c pre-commit \u80fd\u6709\u6548\u63a7\u5236\u4ee3\u7801\u56de\u9000\u6210\u672c\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"07-browserslist",children:"07 browserslist"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"browserslist \u7528\u6765\u58f0\u660e\u652f\u6301\u7684\u6d4f\u89c8\u5668\u8303\u56f4\uff0c\u5f71\u54cd Babel\u3001Autoprefixer\u3001PostCSS\u3001webpack/bundler \u7684\u76ee\u6807\u8f6c\u8bd1\u4e0e polyfill\u3002"}),"\n",(0,i.jsx)(n.li,{children:'\u5199\u6cd5\uff1a"> 1%, last 2 versions, not dead" \u6216\u9488\u5bf9\u4e0d\u540c\u73af\u5883\uff08production/development\uff09\u3002\n\u793a\u4f8b\uff1apackage.json \u4e2d\u914d\u7f6e'}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:'{\n"browserslist": {\n"production": [">0.2%", "not dead", "not op_mini all"],\n"development": ["last 1 chrome version", "last 1 firefox version"]\n}\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u901a\u8fc7 browserslist \u660e\u786e\u76ee\u6807\u73af\u5883\uff0c\u51cf\u5c0f polyfill \u4e0e\u8f6c\u8bd1\u4f53\u79ef\uff0c\u540c\u65f6\u63d0\u5347\u6027\u80fd\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"08-minify-\u4ee3\u7801\u538b\u7f29",children:"08 minify \u4ee3\u7801\u538b\u7f29"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u76ee\u7684\u662f\u51cf\u5c0f JS/CSS \u4f53\u79ef\u3001\u63d0\u9ad8\u9996\u5c4f\u52a0\u8f7d\u901f\u5ea6\u3002\u901a\u5e38\u4f7f\u7528 terser/uglify/esbuild/terser-webpack-plugin\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6ce8\u610f\uff1a\u4e0d\u8981\u6df7\u6dc6\u538b\u7f29\u4e0e\u6df7\u6dc6\uff0c\u538b\u7f29\u4fdd\u7559\u903b\u8f91\uff0c\u6df7\u6dc6\u6539\u53d8\u53d8\u91cf\u540d\uff1b\u9700\u8981\u5904\u7406 source map\u3001console \u53bb\u9664\u3001\u4ea7\u7269\u8c03\u8bd5\u3002\n\u793a\u4f8b\uff08webpack production \u4f7f\u7528 terser\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// webpack.config.prod.js (\u7247\u6bb5)\nconst TerserPlugin = require('terser-webpack-plugin');\nmodule.exports = {\nmode: 'production',\noptimization: {\nminimize: true,\nminimizer: [new TerserPlugin({\nterserOptions: { compress: { drop_console: true } }\n})],\n},\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u751f\u4ea7\u6784\u5efa\u4f7f\u7528 terser/esbuild \u6765\u538b\u7f29\uff0c\u540c\u65f6\u914d\u7f6e\u53bb\u6389 console \u5e76\u4fdd\u7559 source map \u4ee5\u4fbf\u6392\u67e5\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"09-package-lockjson",children:"09 package-lock.json"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"package-lock.json\uff08npm\uff09\u9501\u5b9a\u4f9d\u8d56\u6811\u3001\u4fdd\u8bc1\u5b89\u88c5\u4e00\u81f4\u6027\u3002pnpm-lock.yaml / yarn.lock \u540c\u7406\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4e0d\u5e94\u624b\u52a8\u7f16\u8f91\uff0cCI/CD \u4e2d\u5e94\u63d0\u4ea4\u9501\u6587\u4ef6\uff1b\u5728\u5e93\u9879\u76ee\u4e2d\u53ef\u6709\u4e0d\u540c\u7b56\u7565\uff08\u5e94\u7528\u5fc5\u987b\u63d0\u4ea4\uff0c\u5e93\u53ef\u89c6\u53d1\u5e03\u7b56\u7565\uff09\u3002\n\u793a\u4f8b\u68c0\u67e5\u547d\u4ee4"}),"\n"]}),"\n",(0,i.jsx)(n.h1,{id:"\u67e5\u770b\u88ab\u9501\u5b9a\u7248\u672c",children:"\u67e5\u770b\u88ab\u9501\u5b9a\u7248\u672c"}),"\n",(0,i.jsx)(n.p,{children:"npm ci        # \u4fdd\u8bc1\u4f7f\u7528 lockfile \u5b89\u88c5\uff0c\u9002\u5408 CI\nnpm audit     # \u5b89\u5168\u5ba1\u8ba1\n\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u9501\u6587\u4ef6\u4fdd\u8bc1\u73af\u5883\u53ef\u590d\u73b0\uff0cCI \u7528 npm ci \u5f3a\u5236\u4e25\u683c\u5b89\u88c5\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"10-serverless",children:"10 serverless"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Serverless\uff1a\u6309\u9700\u8ba1\u7b97\uff08\u51fd\u6570\uff09\u5e73\u53f0\uff08AWS Lambda\u3001Vercel\u3001Netlify\u3001Cloud Functions\uff09\uff0c\u514d\u8fd0\u7ef4\uff0c\u6309\u8c03\u7528\u4ed8\u8d39\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u9002\u7528\u573a\u666f\uff1a\u4e8b\u4ef6\u9a71\u52a8\u3001API \u540e\u7aef\u3001\u8f7b\u91cf\u77ed\u65f6\u4efb\u52a1\uff1b\u4e0d\u9002\u5408\u957f\u65f6\u4efb\u52a1\uff08\u9700\u8981\u6ce8\u610f\u51b7\u542f\u52a8\u3001\u8d44\u6e90\u4e0a\u9650\u3001\u5e76\u53d1\u9650\u5236\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5de5\u7a0b\u8981\u70b9\uff1a\u65e0\u72b6\u6001\u3001\u5feb\u901f\u542f\u52a8\u3001\u5408\u7406\u51b7\u542f\u52a8\u4f18\u5316\u3001\u5e76\u53d1\u4e0e\u8d85\u65f6\u3001\u76d1\u63a7\u4e0e\u672c\u5730\u8c03\u8bd5\uff08serverless-offline\uff09\u3002\n\u793a\u4f8b\uff1a\u7b80\u5355 AWS Lambda handler\uff08Node\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// handler.js\nexports.handler = async (event) => {\nconst name = event.queryStringParameters?.name || 'world';\nreturn {\nstatusCode: 200,\nbody: JSON.stringify({ msg: `hello ${name}` }),\n};\n};\nVercel Serverless\uff08api/hello.js\uff09\n// api/hello.js\nexport default function handler(req, res) {\nres.status(200).json({ hello: 'world' });\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cServerless \u7701\u8fd0\u7ef4\u6210\u672c\uff0c\u4f46\u9700\u8981\u8bbe\u8ba1\u65e0\u72b6\u6001\u3001\u77ed\u65f6\u4efb\u52a1\u548c\u51b7\u542f\u52a8\u4f18\u5316\u7b56\u7565\uff0cCI/CD \u4e0e\u672c\u5730\u6a21\u62df\u662f\u5173\u952e\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"11-\u5e38\u89c1\u7684-loader\u4f60\u7528\u8fc7\u54ea\u4e9b",children:"11 \u5e38\u89c1\u7684 Loader\uff08\u4f60\u7528\u8fc7\u54ea\u4e9b\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Webpack Loader \u7528\u4e8e\u5bf9\u6a21\u5757\u8fdb\u884c\u8f6c\u6362\uff1ababel-loader, ts-loader, css-loader, style-loader, sass-loader, file-loader\uff08v5 \u63a8\u8350 asset modules\uff09, url-loader\uff08\u5df2\u5e9f\u5f03\uff09\uff0cvue-loader\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528\u573a\u666f\u4e3e\u4f8b\uff1a\u628a TS \u8f6c\u4e3a JS\uff0c\u7f16\u8bd1 SASS\uff0c\u5904\u7406\u56fe\u7247\u3001\u5b57\u4f53\u3002\n\u793a\u4f8b webpack loader \u914d\u7f6e"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"module.exports = {\nmodule: {\nrules: [\n{ test: /\\.tsx?$/, use: 'ts-loader', exclude: /node_modules/ },\n{ test: /\\.jsx?$/, use: 'babel-loader', exclude: /node_modules/ },\n{ test: /\\.css$/, use: ['style-loader', 'css-loader'] },\n{ test: /\\.(png|jpg|svg)$/, type: 'asset', parser: { dataUrlCondition: { maxSize: 8192 } } }\n]\n}\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cLoader \u662f\u6587\u4ef6\u5230\u6a21\u5757\u7684\u8f6c\u6362\u5668\uff0c\u6211\u5e38\u7528 babel-loader/ts-loader/vue-loader/css-loader/sass-loader \u5904\u7406\u7f16\u8bd1\u4e0e\u8d44\u6e90\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"12-\u5e38\u89c1\u7684-plugin\u89c1\u8fc7\u54ea\u4e9b",children:"12 \u5e38\u89c1\u7684 Plugin\uff08\u89c1\u8fc7\u54ea\u4e9b\uff09"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Webpack \u63d2\u4ef6\u7528\u4e8e\u6269\u5c55\u6784\u5efa\u6d41\u7a0b\uff1aHtmlWebpackPlugin, MiniCssExtractPlugin, DefinePlugin, HotModuleReplacementPlugin, TerserPlugin, CopyWebpackPlugin, ForkTsCheckerWebpackPlugin\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u63d2\u4ef6\u804c\u8d23\u66f4\u5e7f\uff1a\u5f71\u54cd\u6784\u5efa\u751f\u547d\u5468\u671f\u3001\u4ea7\u7269\u3001\u8f93\u51fa\u7b49\u3002\n\u793a\u4f8b\uff08\u5e38\u89c1\u63d2\u4ef6\u914d\u7f6e\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const HtmlWebpackPlugin = require('html-webpack-plugin');\nconst MiniCssExtractPlugin = require('mini-css-extract-plugin');\n\nmodule.exports = {\nplugins: [\nnew HtmlWebpackPlugin({ template: './index.html' }),\nnew MiniCssExtractPlugin({ filename: '[name].[contenthash].css' }),\nnew (require('webpack')).DefinePlugin({ 'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV) })\n]\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cPlugin \u80fd\u5e72\u9884\u6253\u5305\u751f\u547d\u5468\u671f\uff0c\u5e38\u89c1\u63d2\u4ef6\u7528\u4e8e HTML \u6ce8\u5165\u3001\u63d0\u53d6 CSS\u3001\u5e76\u884c\u7c7b\u578b\u6821\u9a8c\u3001\u4ee3\u7801\u538b\u7f29\u7b49\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"13-loader-\u548c-plugin-\u7684\u533a\u522b",children:"13 Loader \u548c Plugin \u7684\u533a\u522b"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Loader\uff1a\u7528\u4e8e\u628a\u6587\u4ef6\u8f6c\u6362\u4e3a\u6a21\u5757\uff08\u94fe\u5f0f\u3001\u9488\u5bf9\u5355\u4e2a\u6a21\u5757\uff09\uff0c\u4f8b\u5982\u628a SASS -> CSS -> JS\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Plugin\uff1a\u6269\u5c55\u6253\u5305\u5668\u751f\u547d\u5468\u671f\uff08\u5168\u5c40\u5f71\u54cd\uff09\uff0c\u53ef\u4ee5\u5904\u7406\u591a\u4e2a\u6587\u4ef6\u3001\u63a7\u5236\u8f93\u51fa\u3001\u505a\u4f18\u5316\u3001\u6ce8\u5165\u884c\u4e3a\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u9762\u8bd5\u603b\u7ed3\u53e5\u5b50\uff1aLoader = \u6587\u4ef6\u7ea7\u8f6c\u6362\uff0cPlugin = \u6784\u5efa\u6d41\u7a0b\u7ea7\u522b\u6269\u5c55\u3002\n\u7b80\u8981\u793a\u4f8b\uff1a\u60f3\u628a .foo \u6587\u4ef6\u8f6c\u6362\u4e3a JS \u7528 Loader\uff1b\u60f3\u5728\u6bcf\u6b21\u6784\u5efa\u540e\u751f\u6210\u62a5\u544a\u7528 Plugin\u3002"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"14-webpack-\u6784\u5efa\u6d41\u7a0b\u7b80\u5355\u8bf4\u4e00\u4e0b",children:"14 Webpack \u6784\u5efa\u6d41\u7a0b\u7b80\u5355\u8bf4\u4e00\u4e0b"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9\uff1a\u516d\u5927\u9636\u6bb5"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u89e3\u6790\u914d\u7f6e\uff08Configuration\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u521d\u59cb\u5316 Compiler\uff08Compiler\uff09\u5e76\u6ce8\u518c\u63d2\u4ef6"}),"\n",(0,i.jsx)(n.li,{children:"\u4ece entry \u5f00\u59cb\u6784\u5efa\u6a21\u5757\u4f9d\u8d56\u56fe\uff08Compilation\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u5bf9\u6a21\u5757\u5e94\u7528 loader \u8f6c\u6362\uff0c\u6536\u96c6\u4f9d\u8d56"}),"\n",(0,i.jsx)(n.li,{children:"\u8fdb\u884c\u4f18\u5316\uff08tree-shaking\u3001code splitting\u3001minify\uff09"}),"\n",(0,i.jsxs)(n.li,{children:["\u8f93\u51fa assets\uff08emit\uff09","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u63d2\u4ef6\u53ef\u4ee5 tap \u5230\u8fd9\u4e9b\u94a9\u5b50\u5f71\u54cd\u6d41\u7a0b\u3002\n\u9762\u8bd5\u8bdd\u672f\uff1a\u201cWebpack \u4ece\u914d\u7f6e\u51fa\u53d1\u521b\u5efa Compiler\uff0c\u904d\u5386\u5165\u53e3\u6587\u4ef6\u6784\u5efa\u4f9d\u8d56\u56fe\u3001\u5bf9\u6a21\u5757\u5e94\u7528 Loader\u3001\u4f7f\u7528 Plugin \u505a\u4f18\u5316\u4e0e\u6253\u5305\uff0c\u6700\u540e emit \u4ea7\u7269\u3002\u201d"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"15-\u4f7f\u7528-webpack-\u5f00\u53d1\u65f6\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\u7684\u63d2\u4ef6",children:"15 \u4f7f\u7528 webpack \u5f00\u53d1\u65f6\u53ef\u4ee5\u63d0\u9ad8\u6548\u7387\u7684\u63d2\u4ef6"}),"\n",(0,i.jsx)(n.p,{children:"\u5e38\u7528\u63d2\u4ef6"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"HtmlWebpackPlugin\uff08\u81ea\u52a8\u6ce8\u5165\uff09"}),"\n",(0,i.jsx)(n.li,{children:"ForkTsCheckerWebpackPlugin\uff08TS \u7c7b\u578b\u6821\u9a8c\u5f02\u6b65\uff09"}),"\n",(0,i.jsx)(n.li,{children:"HotModuleReplacementPlugin\uff08HMR\uff09"}),"\n",(0,i.jsx)(n.li,{children:"webpack-dev-server / webpack-dev-middleware\uff08\u672c\u5730\u5f00\u53d1\uff09"}),"\n",(0,i.jsx)(n.li,{children:"eslint-webpack-plugin\uff08\u5f00\u53d1\u65f6\u5373\u65f6 lint\uff09"}),"\n",(0,i.jsx)(n.li,{children:"SpeedMeasurePlugin\uff08\u6784\u5efa\u6027\u80fd\u5206\u6790\uff09\n\u793a\u4f8b\uff1adev config"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const ForkTsCheckerWebpackPlugin = require('fork-ts-checker-webpack-plugin');\nmodule.exports = {\nmode: 'development',\ndevtool: 'cheap-module-source-map',\nplugins: [\nnew ForkTsCheckerWebpackPlugin(),\nnew (require('webpack')).HotModuleReplacementPlugin()\n],\ndevServer: { hot: true, port: 3000 }\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u7ed3\u5408 HMR\u3001\u5f02\u6b65\u7c7b\u578b\u68c0\u67e5\u548c lint \u63d2\u4ef6\u53ef\u4ee5\u4fdd\u6301\u5f00\u53d1\u6d41\u7545\u4e14\u4fdd\u8bc1\u8d28\u91cf\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"16-\u6587\u4ef6\u6307\u7eb9\u662f\u4ec0\u4e48\u600e\u4e48\u7528",children:"16 \u6587\u4ef6\u6307\u7eb9\u662f\u4ec0\u4e48\uff1f\u600e\u4e48\u7528\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u6587\u4ef6\u6307\u7eb9\uff08hash\uff09\u7528\u4e8e\u9759\u6001\u8d44\u6e90\u957f\u7f13\u5b58\uff08Cache busting\uff09\u3002\u5e38\u89c1\uff1a[contenthash]\u3001[chunkhash]\u3001[hash]\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5b9e\u8df5\uff1a\u751f\u6210\u5e26 hash \u7684\u6587\u4ef6\u540d\u5e76\u5728 HTML \u4e2d\u5f15\u7528\uff0cCDN \u7f13\u5b58\u7b56\u7565\u4f7f\u7528\u957f\u7f13\u5b58\uff0c\u53d8\u66f4\u65f6\u66f4\u65b0\u6587\u4ef6\u540d\u3002\n\u793a\u4f8b webpack output"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"output: {\nfilename: '[name].[contenthash:8].js',\nassetModuleFilename: 'assets/[name].[contenthash:8][ext]'\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u7528 contenthash \u4fdd\u8bc1\u53ea\u5728\u5185\u5bb9\u53d8\u5316\u65f6\u6587\u4ef6\u540d\u53d8\u5316\uff0c\u914d\u5408\u7f13\u5b58\u7b56\u7565\u5927\u5e45\u63d0\u5347\u524d\u7aef\u6027\u80fd\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"17-\u5982\u4f55\u4f18\u5316-webpack-\u6784\u5efa\u901f\u5ea6",children:"17 \u5982\u4f55\u4f18\u5316 Webpack \u6784\u5efa\u901f\u5ea6\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9\uff08\u5b9e\u6218\u6e05\u5355\uff09"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528 cache\uff08filesystem cache\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528 thread-loader / esbuild-loader \u6216 swc-loader \u66ff\u4ee3 babel \u5728\u975e\u590d\u6742\u8f6c\u8bd1\u4e0b\u52a0\u901f"}),"\n",(0,i.jsx)(n.li,{children:"\u5f00\u542f parallel\uff08terser \u7684\u5e76\u884c\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528 include/exclude \u7cbe\u51c6\u5339\u914d loader \u8303\u56f4"}),"\n",(0,i.jsx)(n.li,{children:"\u6309\u9700\u7f16\u8bd1\uff08DLL\u3001\u6a21\u5757\u8054\u90a6\u3001\u6301\u4e45\u5316\u7f13\u5b58\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528 source-map \u9009\u62e9\uff08\u5f00\u53d1 cheaper map\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u51cf\u5c11 polyfills\u3001\u5408\u7406\u62c6\u5206 vendor\n\u793a\u4f8b\uff1a\u5f00\u542f filesystem cache \u4e0e esbuild-loader"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"module.exports = {\ncache: { type: 'filesystem', buildDependencies: { config: [__filename] } },\nmodule: {\nrules: [\n{ test: /\\.tsx?$/, loader: 'esbuild-loader', options: { loader: 'tsx', target: 'es2017' } }\n]\n}\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u4f18\u5148\u5f00\u542f filesystem cache \u548c\u7528\u66f4\u5feb\u7684\u7f16\u8bd1\u5668\uff08esbuild/swc\uff09\uff0c\u518d\u7ed3\u5408\u6309\u9700 loader \u914d\u7f6e\u4e0e\u5e76\u884c\u5316\u5373\u53ef\u663e\u8457\u964d\u6784\u5efa\u65f6\u95f4\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"18-\u5199\u8fc7-loader-\u5417\u7f29\u5199-loader-\u601d\u8def",children:"18 \u5199\u8fc7 Loader \u5417\uff1f\u7f29\u5199 loader \u601d\u8def"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Loader \u662f\u4e00\u4e2a\u5bfc\u51fa\u51fd\u6570\uff1a\u63a5\u6536\u6e90\u5185\u5bb9\uff0c\u8fd4\u56de\u8f6c\u6362\u540e\u7684\u5185\u5bb9\uff08\u6216\u5f02\u6b65\u56de\u8c03\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u601d\u8def\uff1a\u89e3\u6790\u8f93\u5165 -> \u8fdb\u884c transform\uff08babel transform / regex / parse AST\uff09-> \u8fd4\u56de JS module\uff08module.exports / export default\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6ce8\u610f sourceMap \u652f\u6301\u3001\u5f02\u6b65\u5904\u7406\u3001cacheable \u58f0\u660e\u3002\n\u793a\u4f8b\uff1a\u4e00\u4e2a\u7b80\u5355\u7684 loader\uff08\u628a // @upper \u6807\u8bb0\u7684\u5b57\u7b26\u4e32\u8f6c\u4e3a\u5927\u5199\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// loaders/upper-loader.js\nmodule.exports = function (source, map) {\nthis.cacheable && this.cacheable();\nconst result = source.replace(/\\/\\/\\s*@upper\\n([\\s\\S]*?)\\n\\/\\/\\s*@end/gi, (_, txt) => txt.toUpperCase());\nthis.callback(null, result, map);\n};\n// webpack config\nmodule.exports = {\nmodule: {\nrules: [{ test: /\\.txt$/, use: [{ loader: require.resolve('./loaders/upper-loader') }] }]\n}\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u5199 loader \u7684\u5173\u952e\u662f\u5904\u7406\u8f93\u5165\u8f93\u51fa\u4e0e sourceMap\uff0c\u901a\u5e38\u7ed3\u5408 AST\uff08babel/parser\uff09\u8fdb\u884c\u590d\u6742\u8f6c\u6362\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"19-\u5199\u8fc7-plugin-\u5417\u7f16\u5199-plugin-\u601d\u8def",children:"19 \u5199\u8fc7 Plugin \u5417\uff1f\u7f16\u5199 Plugin \u601d\u8def"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Plugin \u662f\u4e00\u4e2a\u7c7b/\u51fd\u6570\uff0capply(compiler) \u5185\u6ce8\u518c\u94a9\u5b50\uff08compiler.hooks\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u601d\u8def\uff1a\u8bc6\u522b\u5e0c\u671b\u63d2\u624b\u7684\u9636\u6bb5\uff08\u6bd4\u5982 compilation, emit\uff09\uff0c\u4f7f\u7528\u540c\u6b65/\u5f02\u6b65 tap \u65b9\u6cd5\uff0c\u5e76\u5904\u7406 assets \u6216\u4fe1\u606f\u3002\n\u793a\u4f8b\uff1a\u7b80\u5355\u63d2\u4ef6 \u2014 \u5728 emit \u65f6\u6ce8\u5165 banner \u6587\u4ef6"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// plugins/banner-plugin.js\nclass BannerPlugin {\nconstructor(options = {}) { this.options = options; }\napply(compiler) {\ncompiler.hooks.emit.tapAsync('BannerPlugin', (compilation, callback) => {\nconst banner = this.options.banner || 'Built by BannerPlugin';\ncompilation.assets['banner.txt'] = {\nsource: () => banner,\nsize: () => banner.length\n};\ncallback();\n});\n}\n}\nmodule.exports = BannerPlugin;\n// webpack.config.js\nconst BannerPlugin = require('./plugins/banner-plugin');\nmodule.exports = { plugins: [new BannerPlugin({ banner: 'Hello from build' })] };\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cPlugin \u672c\u8d28\u662f\u8ba2\u9605 webpack \u94a9\u5b50\uff0c\u80fd\u5168\u5c40\u5f71\u54cd\u6d41\u7a0b\uff0c\u9002\u5408\u8de8\u6a21\u5757\u6216\u6784\u5efa\u4ea7\u7269\u7ea7\u522b\u7684\u64cd\u4f5c\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"20-babel-\u539f\u7406",children:"20 Babel \u539f\u7406"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Babel \u5de5\u4f5c\u6d41\u7a0b\uff1aparse -> AST -> transform\uff08plugin/transpiler\uff0c\u4f7f\u7528 visitor \u4fee\u6539 AST\uff09-> generate\uff08\u8f93\u51fa\u4ee3\u7801 & sourceMap\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u63d2\u4ef6\u7ed3\u6784\uff1avisitor\uff08\u8282\u70b9\u8bbf\u95ee\u5668\uff09\u5bf9 AST \u8282\u70b9\u8fdb\u884c\u66ff\u6362/\u63d2\u5165\uff0cpreset \u662f\u4e00\u7ec4\u63d2\u4ef6\u7684\u96c6\u5408\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Babel \u7684\u76ee\u6807\uff1a\u628a\u73b0\u4ee3 JS \u8f6c\u4e3a\u76ee\u6807\u73af\u5883\u517c\u5bb9\u7684 JS\uff08polyfill \u4e0e transform \u5206\u5f00\uff09\u3002\n\u793a\u4f8b\uff1a\u81ea\u5b9a\u4e49 Babel plugin\uff08\u628a log('x') -> console.log('x')\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// babel-plugin-to-console.js\nmodule.exports = function ({ types: t }) {\nreturn {\nvisitor: {\nCallExpression(path) {\nif (t.isIdentifier(path.node.callee, { name: 'log' })) {\npath.node.callee = t.memberExpression(t.identifier('console'), t.identifier('log'));\n}\n}\n}\n};\n};\n\u4f7f\u7528\uff1a\n// .babelrc\n{ \"plugins\": [\"./babel-plugin-to-console.js\"] }\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cBabel \u662f AST \u8f6c\u6362\u5668\uff0c\u63d2\u4ef6\u901a\u8fc7\u8bbf\u95ee\u5668\u6a21\u5f0f\u5728 AST \u4e0a\u505a\u53d8\u6362\uff0c\u6700\u540e\u518d\u751f\u6210\u4ee3\u7801\u4e0e sourcemap\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"21-source-map-\u662f\u4ec0\u4e48\u751f\u4ea7\u73af\u5883\u600e\u4e48\u7528",children:"21 source map \u662f\u4ec0\u4e48\uff1f\u751f\u4ea7\u73af\u5883\u600e\u4e48\u7528\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"source map \u6620\u5c04\u7f16\u8bd1/\u538b\u7f29\u540e\u7684\u4ee3\u7801\u5230\u6e90\u4ee3\u7801\uff0c\u4fbf\u4e8e\u8c03\u8bd5\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u751f\u4ea7\u4f7f\u7528\u7b56\u7565\uff1a"}),"\n",(0,i.jsx)(n.li,{children:"\u9009\u7528\u5408\u9002\u7684\u6620\u5c04\u7c7b\u578b\uff08source-map / hidden-source-map / nosources-source-map\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u82e5\u62c5\u5fc3\u6e90\u7801\u6cc4\u9732\uff0c\u4f7f\u7528 hidden-source-map \u5e76\u53ea\u5728 Sentry/\u9519\u8bef\u6536\u96c6\u5de5\u5177\u4e0a\u4e0a\u4f20 map\uff0c\u4e0d\u5728\u6d4f\u89c8\u5668\u53ef\u76f4\u63a5\u8bbf\u95ee\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6ce8\u610f\uff1a\u516c\u5f00 source map \u53ef\u80fd\u6cc4\u9732\u6e90\u7801\u6216\u6ce8\u5165\u5b89\u5168\u98ce\u9669\u3002\n\u793a\u4f8b\uff08webpack\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// dev\ndevtool: 'eval-cheap-module-source-map'\n// prod (\u4e0d\u516c\u5f00\uff0c\u4f46\u4e0a\u4f20\u5230\u9519\u8bef\u6536\u96c6)\ndevtool: 'hidden-source-map'\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u751f\u4ea7\u53ef\u4f7f\u7528 hidden-source-map \u4e0a\u4f20\u5230\u9519\u8bef\u76d1\u63a7\uff08Sentry\uff09\uff0c\u907f\u514d\u76f4\u63a5\u66b4\u9732\u6e90\u7801\u540c\u65f6\u4fdd\u7559\u53ef\u8ffd\u8e2a\u6027\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"22-\u6587\u4ef6\u76d1\u542c\u539f\u7406",children:"22 \u6587\u4ef6\u76d1\u542c\u539f\u7406"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4e24\u79cd\u65b9\u5f0f\uff1a\u8f6e\u8be2(polling) \u4e0e \u6587\u4ef6\u7cfb\u7edf\u4e8b\u4ef6\uff08inotify on Linux, fsevents on macOS, ReadDirectoryChangesW on Windows\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Node.js \u4f7f\u7528 fs.watch \u6216 fs.watchFile\uff08\u540e\u8005\u662f\u8f6e\u8be2\uff09\uff0c\u5de5\u5177\u5982 webpack-dev-server / chokidar \u4f7f\u7528\u66f4\u7a33\u5b9a\u7684\u8de8\u5e73\u53f0\u5e93 chokidar\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u9762\u8bd5\u8865\u5145\uff1a\u5927\u91cf\u6587\u4ef6\u65f6\u8f6e\u8be2\u8017\u8d44\u6e90\uff0cinotify \u6709\u6587\u4ef6\u6570\u4e0a\u9650 (\u53ef\u8c03\u6574 fs.inotify.max_user_watches)\u3002\n\u793a\u4f8b\uff08chokidar\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const chokidar = require('chokidar');\nconst watcher = chokidar.watch('./src', { ignored: /node_modules/ });\nwatcher.on('change', path => console.log('changed', path));\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u4e00\u822c\u7528 chokidar \u505a\u8de8\u5e73\u53f0\u76d1\u542c\uff0c\u4f18\u5148\u4f7f\u7528\u6587\u4ef6\u4e8b\u4ef6\uff0c\u8f6e\u8be2\u4ec5\u4f5c fallback \u6216 CI \u73af\u5883\u4e0b\u4f7f\u7528\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"23-webpack-\u70ed\u66f4\u65b0hmr\u539f\u7406",children:"23 Webpack \u70ed\u66f4\u65b0\uff08HMR\uff09\u539f\u7406"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"HMR\uff1a\u5728\u4e0d\u5237\u65b0\u9875\u9762\u7684\u60c5\u51b5\u4e0b\u66ff\u6362\u3001\u6dfb\u52a0\u6216\u5220\u9664\u6a21\u5757\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6d41\u7a0b\uff1aDev server \u901a\u8fc7 websocket \u901a\u77e5\u5ba2\u6237\u7aef\u6709\u66f4\u65b0 -> \u5ba2\u6237\u7aef\u83b7\u53d6\u66f4\u65b0\u6a21\u5757 -> \u8fd0\u884c\u6a21\u5757\u7684 accept \u56de\u8c03\uff08module.hot.accept\uff09 -> \u5c40\u90e8\u66ff\u6362\u6a21\u5757\u5e76\u6267\u884c\u66f4\u65b0\u903b\u8f91 -> \u82e5\u4e0d\u80fd\u5904\u7406\u5219\u89e6\u53d1\u5168\u9875 reload\u3002"}),"\n",(0,i.jsx)(n.li,{children:"HMR \u80fd\u4fdd\u6301\u5e94\u7528\u72b6\u6001\uff08\u5728\u7ec4\u4ef6\u5c42\u9762\u5b9e\u73b0\uff09\uff0c\u9002\u5408 UI \u5f00\u53d1\u3002\n\u793a\u4f8b\uff08React + webpack HMR\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// index.js\nimport React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport App from './App';\n\nconst root = createRoot(document.getElementById('root'));\nroot.render(<App />);\n\nif (module.hot) {\nmodule.hot.accept('./App', () => {\nconst NextApp = require('./App').default;\nroot.render(<NextApp />);\n});\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cHMR \u5c06\u6a21\u5757\u70ed\u66ff\u6362\u5e76\u8c03\u7528\u6a21\u5757\u7684 accept \u56de\u8c03\uff0c\u80fd\u4fdd\u7559\u5e94\u7528\u5185\u72b6\u6001\uff0c\u63d0\u5347\u5f00\u53d1\u6548\u7387\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"24-webpack-\u4e8b\u4ef6\u673a\u5236\u4e86\u89e3\u5417",children:"24 Webpack \u4e8b\u4ef6\u673a\u5236\u4e86\u89e3\u5417\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Webpack \u4f7f\u7528 Tapable\uff08\u7c7b\u4f3c\u4e8b\u4ef6/\u94a9\u5b50\u7cfb\u7edf\uff09\uff0c\u63d0\u4f9b\u540c\u6b65/\u5f02\u6b65\u94a9\u5b50\uff08tap/tapAsync/tapPromise\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5e38\u89c1\u94a9\u5b50\uff1acompiler.hooks.beforeRun, compiler.hooks.emit, compilation.hooks.optimizeChunks \u7b49\u3002"}),"\n",(0,i.jsx)(n.li,{children:"Plugin \u5229\u7528\u8fd9\u4e9b\u94a9\u5b50\u6539\u53d8\u6784\u5efa\u6d41\u7a0b\u6216\u4ea7\u7269\u3002\n\u793a\u4f8b\uff08\u63d2\u4ef6\u5185 tap\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"compiler.hooks.emit.tapAsync('MyPlugin', (compilation, cb) => {\n// \u4fee\u6539 compilation.assets\ncb();\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cWebpack \u94a9\u5b50\u57fa\u4e8e Tapable\uff0cPlugin \u901a\u8fc7 tap \u6ce8\u518c\u4e0d\u540c\u9636\u6bb5\u7684\u903b\u8f91\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"25-\u4e86\u89e3-webpack5-\u5417\u76f8\u6bd4-webpack4-\u6709\u54ea\u4e9b\u63d0\u5347",children:"25 \u4e86\u89e3 Webpack5 \u5417\uff0c\u76f8\u6bd4 Webpack4 \u6709\u54ea\u4e9b\u63d0\u5347\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\u4e3b\u8981\u63d0\u5347\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u66f4\u597d\u7684\u6301\u4e45\u5316 cache\uff08filesystem cache\uff09\u63d0\u5347\u6784\u5efa\u901f\u5ea6\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u5185\u7f6e Module Federation\uff08\u5b9e\u9a8c/\u63d2\u4ef6\u751f\u6001\uff09\uff0c\u6539\u5584\u5fae\u524d\u7aef\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u66f4\u73b0\u4ee3\u7684 asset modules\uff08\u66ff\u4ee3 file/url loaders\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u66f4\u4e25\u683c\u7684\u9ed8\u8ba4\u6027\u80fd/Tree shaking \u6539\u8fdb\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u66f4\u5c0f\u7684 runtime \u4e0e\u4f18\u5316\u673a\u5236\u3002"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cWebpack5 \u5c06\u6027\u80fd\u4e0e\u6a21\u5757\u5171\u4eab\u4f5c\u4e3a\u6838\u5fc3\u6539\u8fdb\uff0c\u5c24\u5176\u662f\u6301\u4e45\u5316 cache \u4e0e Module Federation \u5bf9\u5927\u578b\u9879\u76ee\u53d7\u76ca\u663e\u8457\u3002\u201d"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"26-\u6a21\u5757\u8054\u90a6module-federation\u7406\u89e3",children:"26 \u6a21\u5757\u8054\u90a6\uff08Module Federation\uff09\u7406\u89e3"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Module Federation\uff1aWebpack5 \u7279\u6027\uff0c\u5141\u8bb8\u5728\u8fd0\u884c\u65f6\u52a8\u6001\u52a0\u8f7d\u5e76\u5171\u4eab\u591a\u4e2a\u72ec\u7acb\u6784\u5efa\u7684\u6a21\u5757\uff08micro-frontends\uff09\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4f18\u70b9\uff1a\u72ec\u7acb\u90e8\u7f72\u3001\u5171\u4eab runtime/\u5e93\uff0c\u6309\u9700\u52a0\u8f7d\u8fdc\u7a0b\u6a21\u5757\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u6ce8\u610f\u4e8b\u9879\uff1a\u5171\u4eab\u4f9d\u8d56\u7248\u672c\u534f\u8c03\u3001\u8de8\u57df/\u8fd0\u884c\u65f6\u52a0\u8f7d\u7b56\u7565\u3001\u5b89\u5168\uff08\u9a8c\u8bc1\u8fdc\u7aef\u6a21\u5757\u6765\u6e90\uff09\u3002\n\u793a\u4f8b\uff08host & remote \u7b80\u8981\uff09"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// remote webpack config\nnew ModuleFederationPlugin({\nname: 'remoteApp',\nfilename: 'remoteEntry.js',\nexposes: { './Button': './src/Button' },\nshared: { react: { singleton: true, eager: true }, 'react-dom': { singleton: true } }\n});\n// host webpack config\nnew ModuleFederationPlugin({\nname: 'host',\nremotes: { remoteApp: 'remoteApp@http://localhost:3001/remoteEntry.js' },\nshared: { react: { singleton: true }, 'react-dom': { singleton: true } }\n});\n// host usage\nconst RemoteButton = React.lazy(() => import('remoteApp/Button'));\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cModule Federation \u652f\u6301\u8fd0\u884c\u65f6\u5171\u4eab\u6a21\u5757\uff0c\u4fbf\u4e8e\u56e2\u961f\u72ec\u7acb\u90e8\u7f72\u5b50\u5e94\u7528\u5e76\u5171\u4eab\u6838\u5fc3\u5e93\u3002\u201d"}),"\n",(0,i.jsxs)(n.h2,{id:"27-\u4ec0\u4e48\u662f-webpack\u5b83\u7684\u4f5c\u7528\u662f\u4ec0\u4e48",children:["27 \u4ec0\u4e48\u662f ",(0,i.jsx)(n.code,{children:"Webpack"}),"\uff1f\u5b83\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\uff1f"]}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Webpack"})," \u662f\u6a21\u5757\u6253\u5305\u5668",(0,i.jsx)(n.code,{children:"\uff08module bundler\uff09"}),"\uff0c\u4ece\u5165\u53e3\u6784\u5efa\u4f9d\u8d56\u56fe\u5e76\u8f93\u51fa\u9759\u6001\u8d44\u6e90\uff08JS/CSS/\u56fe\u7247\uff09\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u4f5c\u7528\uff1a\u6a21\u5757\u5316\u3001\u8d44\u6e90\u5904\u7406\uff08",(0,i.jsx)(n.code,{children:"loader"}),"\uff09\u3001\u6784\u5efa\u4f18\u5316\uff08",(0,i.jsx)(n.code,{children:"plugin"}),"\uff09\u3001\u4ee3\u7801\u5206\u5272\u3001",(0,i.jsx)(n.code,{children:"tree-shaking"}),"\u3001\u751f\u4ea7\u6784\u5efa\u3002\n\u9762\u8bd5\u8bdd\u672f\uff1a\u201cWebpack \u628a\u524d\u7aef\u9879\u76ee\u7684\u5404\u79cd\u8d44\u6e90\u5f53\u6a21\u5757\u6765\u5904\u7406\u5e76\u751f\u6210\u4f18\u5316\u540e\u7684\u9759\u6001\u8d44\u6e90\uff0c\u4ee5\u652f\u6301\u73b0\u4ee3\u524d\u7aef\u5f00\u53d1\u6d41\u7a0b\u3002\u201d"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"28-webpack-\u4e2d\u6709\u54ea\u4e9b\u6838\u5fc3\u6982\u5ff5",children:["28 ",(0,i.jsx)(n.code,{children:"Webpack"})," \u4e2d\u6709\u54ea\u4e9b\u6838\u5fc3\u6982\u5ff5\uff1f"]}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9\u5217\u8868"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Entry"}),"\uff1a\u5e94\u7528\u5165\u53e3"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Output"}),"\uff1a\u6784\u5efa\u8f93\u51fa"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Module & Rules\uff08Loader\uff09"}),"\uff1a\u6a21\u5757\u53ca\u5982\u4f55\u8f6c\u6362\u5b83"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Plugins"}),"\uff1a\u6269\u5c55\u6784\u5efa\u6d41\u7a0b"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Chunk"}),"\uff1a\u6309\u9700\u52a0\u8f7d\u5355\u5143"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Asset"}),"\uff1a\u9759\u6001\u8d44\u6e90"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Dependency Graph"}),"\uff1a\u4f9d\u8d56\u56fe"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Mode"}),"\uff1a",(0,i.jsx)(n.code,{children:"production/development"}),"\n\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u7406\u89e3 entry/module/plugin/chunk/output \u8fd9\u4e9b\u57fa\u672c\u6982\u5ff5\u80fd\u5e2e\u52a9\u638c\u63e1 webpack \u7684\u6574\u4f53\u6784\u5efa\u6a21\u578b\u3002\u201d"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"29-webpack-\u7684-mode-\u662f\u4ec0\u4e48",children:"29 Webpack \u7684 mode \u662f\u4ec0\u4e48"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"mode = 'development' | 'production' | 'none'"}),"\uff0c\u914d\u7f6e\u9ed8\u8ba4\u4f18\u5316\u9879\uff08\u5982 ",(0,i.jsx)(n.code,{children:"uglify"}),"\u3001",(0,i.jsx)(n.code,{children:"tree shaking"}),"\uff09\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"development"}),"\uff1a\u66f4\u5feb\u6784\u5efa\u3001\u4fdd\u7559\u8c03\u8bd5\u4fe1\u606f\uff1b",(0,i.jsx)(n.code,{children:"production"}),"\uff1a\u542f\u7528\u4f18\u5316\u3001\u538b\u7f29\u3001\u6027\u80fd\u4f18\u5316\u3002\n\u793a\u4f8b"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"module.exports = { mode: process.env.NODE_ENV || 'development' }; \n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201cmode \u51b3\u5b9a\u5185\u7f6e\u4f18\u5316\u96c6\u5408\uff0cCI \u4e2d\u8bf7\u663e\u5f0f\u6307\u5b9a production \u4ee5\u83b7\u5f97\u4f53\u79ef\u4e0e\u6027\u80fd\u4f18\u5316\u3002\u201d"}),"\n",(0,i.jsx)(n.h2,{id:"30-\u4ec0\u4e48\u662f\u4ee3\u7801\u5206\u5272code-splitting\u5982\u4f55\u5728-webpack-\u4e2d\u5b9e\u73b0",children:"30 \u4ec0\u4e48\u662f\u4ee3\u7801\u5206\u5272\uff08Code Splitting\uff09\uff1f\u5982\u4f55\u5728 Webpack \u4e2d\u5b9e\u73b0\uff1f"}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u70b9"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u4ee3\u7801\u5206\u5272\uff1a\u5c06\u5305\u62c6\u6210\u591a\u4e2a bundle\uff0c\u6309\u9700\u52a0\u8f7d\uff08\u51cf\u5c11\u9996\u5c4f\u4f53\u79ef\uff09\u3002"}),"\n",(0,i.jsxs)(n.li,{children:["\u5b9e\u73b0\u65b9\u5f0f\uff1a","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\u9759\u6001\uff1aentry \u5206\u5272\uff08multiple entries\uff09"}),"\n",(0,i.jsx)(n.li,{children:"\u52a8\u6001\uff1aimport()\uff08\u52a8\u6001 import\uff09\u5b9e\u73b0\u61d2\u52a0\u8f7d"}),"\n",(0,i.jsx)(n.li,{children:"CommonsChunk / SplitChunksPlugin\uff08\u63d0\u53d6 vendor\uff09"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"\u573a\u666f\uff1a\u8def\u7531\u61d2\u52a0\u8f7d\u3001\u6309\u9700\u7ec4\u4ef6\u3001\u6309\u529f\u80fd\u62c6\u5305\u3002\n\u793a\u4f8b\uff1aReact \u8def\u7531\u61d2\u52a0\u8f7d + webpack splitChunks"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"// App.jsx\nimport React, { Suspense } from 'react'\n\nconst Home = React.lazy(() => import('./Home'));\nconst Admin = React.lazy(() => import('./Admin'));\n\nfunction App () {\n    return (\n        <Suspense fallback={<div>Loading...</div>}>\n            {/* \u5047\u8bbe\u57fa\u4e8e\u8def\u7531 */}\n            <Home/>\n            <Admin/>\n        </Suspense>\n    );\n}\n\nexport default App;\n// webpack optimization\noptimization: {\n    splitChunks: {\n        chunks: 'all',\n            cacheGroups\n    :\n        {\n            vendor: {\n                test: /[\\\\/]node_modules[\\\\/]/, name\n            :\n                'vendors', chunks\n            :\n                'all'\n            }\n        }\n    }\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"\u9762\u8bd5\u8bdd\u672f\uff1a\u201c\u9996\u5c4f\u52a0\u8f7d\u6700\u5c0f\u5316\u3001\u8def\u7531/\u7ec4\u4ef6\u6309\u9700\u52a0\u8f7d\u548c vendor \u63d0\u53d6\u662f\u4ee3\u7801\u5206\u5272\u7684\u4e09\u5927\u5e38\u89c1\u7b56\u7565\u3002\u201d"})]})}function p(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},9087:(e,n,l)=>{l.d(n,{R:()=>c,x:()=>o});var s=l(6363);const i={},r=s.createContext(i);function c(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);